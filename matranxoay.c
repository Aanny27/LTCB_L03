/*⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡴⠲⠋⠳⣄⠀⠀⠀⠀⠀⠀⠀⠀
⢀⣤⣷⣧⡴⣤⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣴⣯⠖⠀⢠⠠⣼⣦⠀⠀⠀⠀⠀⠀⠀
⢸⡇⠉⠉⠓⠟⠟⢲⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡄⠀⠀⢀⣠⣾⠿⠁⠀⠀⠀⠀⠘⣿⠀⠀⠀⠀⠀⠀⠀
⢸⣗⠀⡇⠀⢄⠀⠒⠊⠙⢦⣀⠀⠀⠀⠀⠀⢀⣠⣴⣶⣿⡭⠉⠉⠉⠉⠉⠙⠛⠟⠃⠀⠀⠀⠀⠀⠀⣿⠀⠀⠀⠀⠀⠀⠀
⢸⣿⠀⠁⠀⠈⢳⡀⠀⠀⠈⢿⠿⣷⣲⣶⣶⣿⠟⠋⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠠⠶⢶⣦⣄⠀⠀⢻⡄⠀⠀⠀⠀⠀⠀
⠘⣷⠚⣤⠀⠀⠀⠻⢀⠀⠀⢸⡾⠛⣭⡽⠋⢀⣠⣴⣶⣦⠄⠀⠀⠀⠀⠴⠦⠤⠴⠶⢤⡀⠉⠉⠉⠚⠻⠧⣄⠀⠀⠀⠀⠀
⠀⢹⣿⣿⣶⣄⠀⠀⠈⣀⠀⠉⠀⠀⣹⣤⡴⠿⠟⠛⠉⠀⠀⢀⣠⠴⡖⣀⣠⣤⣤⣤⣤⣽⣂⡀⠀⠀⠀⠈⢮⣣⡀⠀⠀⠀
⠀⠀⠻⣦⠙⠿⢧⠀⠀⣿⠆⠀⣆⣰⡏⠀⠀⠀⠀⠀⠀⠀⢀⣤⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣶⣄⣄⠀⠙⢷⡀⠀⠀
⠀⠀⠀⠹⣶⠀⠀⢀⡈⠀⠀⣰⣿⣿⠁⠀⠀⠀⠀⢀⣠⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣦⡁⠀⠈⣷⠀⠀
⠀⠀⠀⠀⠘⣧⣤⣤⢀⣠⣮⣿⣿⠇⠀⠀⠀⠀⢀⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣧⡄⣥⠙⢦⠀
⠀⠀⠀⠀⠀⢸⣿⣿⣾⣿⣿⣿⠃⠀⠀⠀⠀⣰⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⢸⡀⢸⡄
⠀⠀⠀⠀⠀⠘⢿⣿⣿⣿⣿⡟⢀⠀⠀⠀⣰⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣧⠀⠃⢼⡇
⠀⠀⠀⠀⠀⠀⠸⣿⣿⣿⣿⠇⣸⠀⠀⠀⠟⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠀⠀⢸⠁
⠀⠀⠀⠀⠀⠀⠀⢽⣿⣿⣿⣿⡟⠀⠀⠀⠀⠸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠏⠀⣼⣼⡿⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠿⣿⣿⣿⠅⠀⠀⠀⠀⠀⠈⠛⠛⠿⠿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠛⠁⠀⠀⣹⡿⠃⠀
⠀⠀⠀⠀⠀⠀⠀⠀⢰⠿⠟⠛⠂⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠙⠛⠿⠿⠿⠿⠿⠿⠛⠛⠙⠁⠀⠀⡀⠀⣠⠟⠁⠀⠀
⠀⠀⠀⠀⠀⠀⠀⢀⣯⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⡾⢣⣾⠃⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⢐⣞⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣴⠿⠋⠠⢼⠋⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⡼⠁⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠋⠁⠀⠀⠀⢸⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⢸⡟⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⡦⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⣿⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡇⢹⠀⠀⠀⠀⠀
⠀⠀⠀⠀⢸⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⡀⠀⠀⠀⠀
⠀⠀⠀⠀⢸⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡇⠀⠀⠀⠀
⠀⠀⠀⠀⢸⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢳⠀⠀⠀⠀
*/
#include <stdio.h>
#include <stdlib.h>
#include <math.h>
#include <string.h>

void vonglap(int dem, int dau, int cuoi, int a[100][100], int n) {
    for (int i = dau, j = dau; j < cuoi; j++) {
        a[i][j] = dem;
        dem += 1;
    }
    for (int j = cuoi - 1, i = dau + 1; i < cuoi; i++) {
        a[i][j] = dem;
        dem += 1;
    }
    for (int i = cuoi - 1, j = cuoi - 2; j >= dau; j--) {
        a[i][j] = dem;
        dem += 1;
    }
    for (int j = dau, i = cuoi - 2; i > dau; i--) {
        a[i][j] = dem;
        dem += 1;
    }

    if (dem <= n * n) {
        vonglap(dem, dau + 1, cuoi - 1, a, n);
    }
}

int main() {
    int n;
    int a[100][100] = {0};
    printf("nhap vao n: ");
    scanf("%d", &n);
    vonglap(1, 0, n, a, n);
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < n; j++) {
            printf("%d ", a[i][j]);
        }
        printf("\n");
    }
    return 0;
    //Aanny
}
